{"version":3,"sources":["service/index.js","PersonForm.js","Filter.js","Person.js","Persons.js","Notification.js","App.js","index.js"],"names":["ENDPOINT","PersonForm","newPerson","setNewPerson","persons","setPersons","setNotification","INITIAL_NEW_PERSON","notifyError","msg","text","type","submitAddedPerson","id","window","confirm","name","person","axios","put","then","response","data","catch","err","updatePerson","error","prevPersons","map","console","log","filter","setTimeout","baseInputStyle","className","onSubmit","event","preventDefault","personsWithSameName","length","post","placeholder","onChange","prevPerson","target","value","tfno","aria-label","viewBox","d","strokeWidth","Filter","setFilter","Person","handleDelete","width","height","src","alt","onClick","Persons","delete","status","deletePerson","toLowerCase","includes","Notification","App","useState","notification","useEffect","get","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.bbeb7aa8.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst ENDPOINT = '/api/persons'\n\nexport const getPersons = () => {\n    return axios\n        .get(ENDPOINT)\n        .then(response => response.data)\n}\n\nexport const postPerson = (person) => {\n    return axios\n        .post(ENDPOINT, person)\n        .then(response => response.data)\n        .catch(err => err.response.data)\n}\n\nexport const deletePerson = (id) => {\n    return axios\n        .delete(`${ENDPOINT}/${id}`)\n        .then(response => response.status)\n}\n\nexport const updatePerson = (person, id) => {\n    return axios\n        .put(`${ENDPOINT}/${id}`, person)\n        .then(response => response.data)\n        .catch(err => err.response.data)\n}\n","import {postPerson, updatePerson} from \"./service\";\n\nexport const PersonForm = ({newPerson, setNewPerson, persons, setPersons, setNotification, INITIAL_NEW_PERSON}) => {\n\n    const handleChangeName = (event) =>\n        setNewPerson(prevPerson => ({\n            name: event.target.value,\n            tfno: prevPerson.tfno\n        }))\n\n    const handleChangeTfno = (event) =>\n        setNewPerson(prevPerson => ({\n            name: prevPerson.name,\n            tfno: event.target.value\n        }))\n\n    const notifyError = (msg) => \n        setNotification({\n            text: msg,\n            type: 'error'\n        })\n\n    const handleSubmit = (event) => {\n        event.preventDefault()\n\n        const personsWithSameName = persons.filter(({name}) => name === newPerson.name)\n\n        if (personsWithSameName.length !== 0) {\n            return submitAddedPerson(personsWithSameName[0])\n        }\n\n        postPerson(newPerson).then(response => {\n            if (response.error) return notifyError(response.error)\n\n            setNotification({\n                text: `Added ${response.name}`,\n                type: 'message'\n            })\n            setPersons(prevPersons => [...prevPersons, response])\n        })\n\n        setNewPerson(INITIAL_NEW_PERSON)\n        setTimeout(() =>\n            setNotification({text:'', type:''}),\n            5000\n        )\n    }\n\n    const submitAddedPerson = ({id}) => {\n        const update = window.confirm(\n            `${newPerson.name} is already added to phonebook, replace the old number with a new one?`\n        )\n\n        if (!update) {\n            return\n        }\n\n        updatePerson(newPerson, id)\n            .then(response => {\n                if (response.error) return notifyError(response.error)\n\n                setPersons(prevPersons =>\n                    prevPersons.map(person =>\n                        person.id === id ? response : person,\n                    )\n                )\n                setNotification({\n                    text: `Updated ${response.name}`,\n                    type: 'message'\n                })\n            })\n            .catch(error => {\n                console.log(error)\n                setPersons(prevPersons =>\n                    prevPersons.filter(person =>\n                        person.id !== id\n                    )\n                )\n                notifyError(`Information of ${newPerson.name} has already been removed from server`)\n            })\n\n        setNewPerson(INITIAL_NEW_PERSON)\n        setTimeout(() =>\n            setNotification({text:'', type:''}),\n            5000\n        )\n    }\n\n    const formStyle = ' bg-gray-200 fixed bottom-0 flex flex-row flex-wrap '+\n        'justify-between content-start space-y-4 p-6 pt-4 '+\n        'md:sticky md:col-start-4 md:col-span-2 md:row-start-2 md:row-end-4 md:h-full'\n\n    const baseInputStyle = 'bg-gray-50 p-2 rounded-lg shadow-md outline-none '+\n        'transition-all duration-75 ease-in-out focus:ring-2'\n\n    const buttonStyle = 'bg-gray-50 inline w-10 p-1.5 rounded-full shadow-lg '+\n        'transition-all duration-500 ease-in-out transform hover:scale-125 hover:bg-blue-500 '+\n        'focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-200'\n\n    return (\n        <form className={formStyle} onSubmit={handleSubmit}>\n            <h2 className='m-auto'>Add new contact</h2>\n            <input \n                className={baseInputStyle+' w-full'} \n                placeholder='Name...' \n                type='text' \n                onChange={handleChangeName} \n                value={newPerson.name} \n                aria-label='Contact name'\n            />\n            <input \n                className={baseInputStyle+' w-3/4 inline'} \n                placeholder='Number...' \n                type='tel' \n                onChange={handleChangeTfno} \n                value={newPerson.tfno} \n                aria-label='Telephone number' \n            />\n            <button className={buttonStyle} type='submit' aria-label=\"Add contact\">\n                <svg viewBox=\"0 0 110 110\" className='stroke-current text-blue-500 duration-500 ease-in-out hover:text-gray-50'>\n                    <path d=\"M 55,0 l 0,120 M 0,56 l 120,0\" strokeWidth=\"15\" />\n                </svg>\n            </button>\n        </form>\n    )\n}","export const Filter = ({filter, setFilter}) => {\n    const handleFilter = (event) => {\n        setFilter(event.target.value)\n    }\n\n    const style = 'bg-gray-100 placeholder-gray-400 '+\n        'sticky top-4 w-10/12 m-auto py-1 px-3 '+\n        'outline-none rounded-lg shadow-md '+\n        'transition-all duration-400 ease-in-out focus:bg-blue-100 '+\n        'md:col-span-3'\n\n    return <input \n        className={style} \n        placeholder=\"Search...\" \n        type='text' \n        onChange={handleFilter} \n        value={filter}\n        aria-label=\"Search contact\"\n    />\n}","\n\nexport const Person = ({person, handleDelete}) => {\n    const {name, tfno, id} = person\n\n    return (\n        <li className='flex space-x-4 px-5 py-3 content-center'>\n            <div className='m-auto'>\n                <img width='40px' height='40px' className='bg-gray-100 rounded-full' src='./person.svg' alt='Person icon' />\n            </div>\n            <div className='flex-grow'>\n                <strong>{name}</strong>\n                <span className='block text-xs text-gray-600'>{tfno}</span>\n            </div>\n            <button className='m-auto' onClick={handleDelete(id, name)}>\n                <img width='25px' height='25px' src='./trash.svg' alt='Trash' aria-label='Delete contact'  />\n            </button>\n        </li>\n    )\n}","import {Person} from \"./Person\";\nimport {deletePerson} from \"./service\";\n\nexport const Persons = ({data, filter, setPersons}) => {\n\n    const handleDelete = (id, name) => () => {\n        if (!window.confirm(`Delete ${name}?`)){\n            return\n        }\n\n        deletePerson(id).then(status => {\n            if (status < 200 || status >= 300){\n                return\n            }\n\n            setPersons(prevPersons => prevPersons.filter(\n                person => person.id !== id\n            ))\n        })\n    }\n\n    return (\n        <ul className=\"divide-y divide-gray-100 mx-2 my-4 md:col-span-3 mb-48 md:mb-4\">\n            {data\n                .filter(({name}) =>\n                    name.toLowerCase().includes(filter.toLowerCase())\n                )\n                .map(person =>\n                    <Person\n                        key={person.id}\n                        person={person}\n                        handleDelete={handleDelete}\n                    />\n                )\n            }\n        </ul>\n    )\n}","export const Notification = ({text, type}) => {\n\n    return text === '' ?\n        null :\n        <div className={`notification ${type}`}>\n            {text}\n        </div>\n\n}","import React, {useState, useEffect} from 'react'\nimport {PersonForm} from \"./PersonForm\"\nimport {Filter} from \"./Filter\"\nimport {Persons} from \"./Persons\"\nimport {getPersons} from \"./service\";\nimport {Notification} from \"./Notification\";\n\nconst INITIAL_NEW_PERSON = {\n    name: '',\n    tfno: ''\n}\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newPerson, setNewPerson] = useState(INITIAL_NEW_PERSON)\n    const [filter, setFilter] = useState('')\n    const [notification, setNotification] = useState({text:'', type:'message'})\n\n\n    useEffect(() => {\n        getPersons()\n            .then(persons => setPersons(persons))\n    }, [])\n\n\n    return (\n        <div className='grid grid-cols-1 md:grid-cols-5 max-w-screen-lg mx-auto'>\n            <h1 className=\"md:col-span-5 text-3xl my-4 mx-auto\">Contacts</h1>\n            <Notification {...notification}/>\n            <Filter\n                filter={filter}\n                setFilter={setFilter}\n            />\n            {persons.length === 0 ?\n                <p>Empty list</p> :\n                <Persons\n                    data={persons}\n                    setPersons={setPersons}\n                    filter={filter}\n                />\n            }\n            <PersonForm\n                newPerson={newPerson}\n                setNewPerson={setNewPerson}\n                persons={persons}\n                setPersons={setPersons}\n                setNotification={setNotification}\n                INITIAL_NEW_PERSON={INITIAL_NEW_PERSON}\n            />\n            \n\n        </div>\n    )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport './styles/index.css'\nimport App from './App'\n\nconst rootElement = document.getElementById('root')\n\nReactDOM.render(<App />, rootElement)\n"],"sourceRoot":""}